function r(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function e(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var t,n=0,o=document.querySelector(".start"),i=document.querySelector(".game-score"),a=document.querySelector(".restart"),c=document.querySelector(".again"),u=document.querySelector(".container-lose"),s=localStorage.getItem("2048-highScore")||0,d=document.querySelector(".best-score");function f(){l(),v(),o.classList.remove("hidden"),a.classList.add("hidden"),u.classList.add("hidden"),document.querySelector(".message-start").classList.remove("hidden")}function l(){document.querySelector(".board").innerHTML=""}function v(){n=0,i.innerText=n}function m(r,e){r.innerText="",r.classList.value="",r.classList.add("tile"),e>0&&(r.innerText=e.toString(),e<=2048?r.classList.add("tile--"+e.toString()):r.classList.add("tile--2048")),function(){for(var r=0;r<4;r++)for(var e=0;e<4;e++)if(2048===t[r][e])return document.querySelector(".message-win").classList.remove("hidden"),!0}()}function g(r){return r.filter(function(r){return 0!==r})}function y(r){var t=e(r);t=g(t);for(var o=0;o<t.length-1;o++)t[o]===t[o+1]&&(t[o]*=2,t[o+1]=0,n+=t[o]);for(t=g(t);t.length<4;)t.push(0);return t}function S(){if(h()){for(var r=!1;!r;){var e=Math.floor(4*Math.random()),n=Math.floor(4*Math.random());if(0===t[e][n]){var o=Math.floor(10*Math.random());t[e][n]=0===o?4:2;var i=document.getElementById(e.toString()+"-"+n.toString());i.innerText=t[e][n],i.classList.add("tile--"+t[e][n]),r=!0}}(function(){if(h())return!1;for(var r=0;r<4;r++)for(var e=0;e<3;e++)if(t[r][e]===t[r][e+1])return!1;for(var n=0;n<4;n++)for(var o=0;o<3;o++)if(t[o][n]===t[o+1][n])return!1;return!0})()&&u.classList.remove("hidden")}}function h(){for(var r=0;r<4;r++)for(var e=0;e<4;e++)if(0===t[r][e])return!0;return!1}d.textContent=s,o.addEventListener("click",function(){l(),v(),function(){t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];for(var r=0;r<4;r++)for(var e=0;e<4;e++){var n=document.createElement("div");n.id=r.toString()+"-"+e.toString(),m(n,t[r][e]),document.querySelector(".board").append(n)}S(),S()}(),o.classList.add("hidden"),a.classList.remove("hidden"),document.querySelector(".message-start").classList.add("hidden")}),a.addEventListener("click",f),c.addEventListener("click",f),document.addEventListener("keyup",function(r){var o=!1;switch(r.code){case"ArrowLeft":o=function(){for(var r=!1,n=0;n<4;n++)!function(n){var o=t[n],i=e(o);o=y(o),t[n]=o,r||i.every(function(r,e){return r===o[e]})||(r=!0);for(var a=0;a<4;a++)m(document.getElementById(n.toString()+"-"+a.toString()),t[n][a])}(n);return r}();break;case"ArrowRight":o=function(){for(var r=!1,n=0;n<4;n++)!function(n){var o=t[n],i=e(o);o.reverse(),o=y(o),t[n]=o.reverse(),r||i.every(function(r,e){return r===o[e]})||(r=!0);for(var a=0;a<4;a++)m(document.getElementById(n.toString()+"-"+a.toString()),t[n][a])}(n);return r}();break;case"ArrowUp":o=function(){for(var r=!1,n=0;n<4;n++)!function(n){var o=[t[0][n],t[1][n],t[2][n],t[3][n]],i=e(o);o=y(o);for(var a=0;a<4;a++)t[a][n]=o[a],m(document.getElementById(a.toString()+"-"+n.toString()),t[a][n]);r||i.every(function(r,e){return r===o[e]})||(r=!0)}(n);return r}();break;case"ArrowDown":o=function(){for(var r=!1,n=0;n<4;n++)!function(n){var o=[t[0][n],t[1][n],t[2][n],t[3][n]],i=e(o);o.reverse(),(o=y(o)).reverse();for(var a=0;a<4;a++)t[a][n]=o[a],m(document.getElementById(a.toString()+"-"+n.toString()),t[a][n]);r||i.every(function(r,e){return r===o[e]})||(r=!0)}(n);return r}()}o&&(S(),i.innerText=n,n>s&&(s=n,d.textContent=s,localStorage.setItem("2048-bestScore",s)))});
//# sourceMappingURL=index.ffe43dc0.js.map
